{% extends "admin/change_list.html" %}
{% load admin_list i18n admin_tree_list %}
{% block extrahead %}
    {{block.super}}
    <script>
        (function($) {
            $(document).ready(function()  {
                var treeTableOptions = {
                    column: 1, // Insert tree elements in the Name coulmn
                    columnElType: "th,td",
                    expandable: true,
                    initialState: "{{ EDITOR_TREE_INITIAL_STATE }}"
                }
                if ($("#searchbar").val() !== "") {
                    treeTableOptions.initialState = "expanded"
                }
                $("#result_list").treetable(treeTableOptions);
            });
        })(jQuery);
    </script>
{% endblock %}
{% block result_list %}
    {% if action_form and actions_on_top and cl.full_result_count %}{% admin_actions %}{% endif %}
    {% result_tree_list cl %}
    {% if action_form and actions_on_bottom and cl.full_result_count %}{% admin_actions %}{% endif %}
{% endblock %}